<!DOCTYPE html>

<html>
  <head>
    <script
      defer
      data-domain="play-headlines.deno.dev"
      src="https://plausible.io/js/script.hash.outbound-links.pageview-props.revenue.tagged-events.js"
    ></script>
    <script>
      window.plausible =
        window.plausible ||
        function () {
          (window.plausible.q = window.plausible.q || []).push(arguments);
        };
    </script>

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Headlines</title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/p5.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/addons/p5.sound.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/p5.party@latest/dist/p5.party.js"></script>
    <link rel="stylesheet" type="text/css" href="styles.css" />
  </head>
  <body>
    <div id="p5_loading">Loading...</div>

    <div id="start">
      <img src="assets/icon.png" alt="Profile Icon" class="profile-icon" />
      <div class="how-to">
        <img src="assets/question-icon.svg" alt="How to play" />
      </div>
      <h1>Headlines</h1>
      <p class="subtitle">Fill in the blanks before time runs out.</p>
      <div class="button-container">
        <button id="startGame" class="plausible-event-name--start-game">
          Play
        </button>
        <button id="versusButton" disabled class="secondary">
          Versus
          <span>COMING SOON</span>
        </button>
      </div>
      <div id="numPlayersCont">
        <span id="numPlayers"></span> people played today
      </div>
      <div class="date"></div>
    </div>

    <div id="how-to-modal" class="modal">
      <div class="modal-content">
        <div class="back-arrow">
          <img src="assets/back-arrow.svg" alt="Back" />
        </div>
        <h1>How To Play</h1>
        <div class="how-to-content">
          <p>
            You will have 60 seconds to fill in as many headlines as you can.
            Once you select an answer and advance to the next headline, you will
            not be able to return. The game ends after 60 seconds or after you
            submit all of your answer, whichever happens first. You can review
            your score and the correct answers, then compare your score against
            the global leaderboard.
          </p>

          <div class="contact-info">
            <p>
              Please contact us if you notice a bug! You can reach the games
              developers at
              <a href="mailto:howdy@joshstrupp.com">howdy@joshstrupp.com</a>
            </p>
          </div>
        </div>
      </div>
    </div>

    <div id="feedback-modal" class="modal">
      <div class="modal-content">
        <div class="back-arrow" id="close-feedback">
          <span style="font-size: 24px; font-weight: bold; color: #666">×</span>
        </div>
        <h1>Help us help Headlines!</h1>
        <div class="how-to-content">
          <p>
            As an early player, we would love your feedback —
            <a
              href="https://forms.gle/sLp5xzVHczsnqHb3A"
              target="_blank"
              rel="noopener noreferrer"
              >share your thoughts</a
            >! It's short, we promise.
          </p>
        </div>
      </div>
    </div>

    <div id="countdown">
      <div class="back-button">←</div>
      <p class="subtitle">60 seconds on the clock</p>
      <h1 class="ready-text">Ready...</h1>
      <div class="countdown-number">3</div>
    </div>

    <div id="game">
      <div class="theme-container">
        <div class="theme-label-container">
          <p class="theme-label">TODAY'S THEME</p>
        </div>
        <p class="theme-text">Random</p>
      </div>
      <div id="timer"></div>
      <p class="instruction-text">Fill in the blank!</p>
      <div id="headline"></div>
      <div id="optionsCont"></div>
      <button id="next">Next</button>
    </div>

    <div id="results">
      <div class="score-display">
        <span id="player-score">0</span> / <span id="total-questions">10</span>
        <div class="score-subtitle">answered correctly</div>
      </div>
      <div id="headlines-results-container"></div>
      <div id="resultsActionsCont">
        <button id="goToLeaderboard">View Leaderboard</button>
      </div>
    </div>

    <div id="leaderboard">
      <div class="back-arrow">
        <img src="assets/back-arrow.svg" alt="Back" />
      </div>
      <button id="feedback-button" class="feedback-button">Feedback</button>
      <img src="assets/icon.png" alt="Profile Icon" class="profile-icon" />
      <h1>Headlines</h1>
      <div class="date"></div>
      <div class="daily-leaderboard-container">
        <div class="daily-leaderboard">Daily Leaderboard</div>
        <div id="user-score-message"></div>
        <div id="scores"></div>
      </div>
      <button
        id="shareResults"
        class="share-button plausible-event-name--copied-link"
      >
        Share Results
      </button>
    </div>

    <script defer type="module" src="js/main.js"></script>
  </body>
</html>
